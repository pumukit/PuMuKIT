<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
    <h4 class="modal-title text-center" id="myModalLabel">
        {{ "Archive"|trans|upper}}
    </h4>
</div>

<div class="modal-body">
    <div class="row">
        <div class="row">
            <div class="col-md-6 text-right">
                <strong>{% trans %}Multimedia Object title{% endtrans %}</strong>
            </div>
            <div class="col-md-6 text-left">
                {{ multimediaObject.title }}
            </div>
        </div>
        <hr />

        <div class="row">
            <div class="col-md-12">
                <p>{{ "Archiving a multimedia object implies that the object in question is archived and an editable clone is generated by the user to whom it belongs." |trans }}</p>
                <p>{{ "The characteristics of the archive are:" | trans }}:</p>
                <ul class="list-group">
                    <li class="list-group-item">1. {{ "The media object will contain 'ARCHIVED {YEAR}' in the title of the media object" |trans }}</li>
                    <li class="list-group-item">2. {{ "Ownership of the object is given to the administrator or user selected by configuration" | trans }}.</li>
                    <li class="list-group-item">3. {{ "The multimedia object will store who and when has locked it" | trans }}.</li>
                    <li class="list-group-item">4. {{ "A reference to where the new locked object came from will be saved" | trans }}.</li>
                </ul>
            </div>
            <h3 class="text-center">{{ "Are you sure you want to archive the object ?" | trans }}</h3>
            <div class="col-md-6">
                <button type="button" class="btn btn-block btn-default btn-raised" data-dismiss="modal">{{ "Cancel"|trans}}</button>
            </div>
            <div class="col-md-6">
                <a href="#" class="btn btn-block btn-danger btn-archive">{{ "Archive"|trans }}</a>
            </div>
        </div>
    </div>
</div>

<script>
    $('.btn-archive').on('click', function(event) {
        event.preventDefault();
        $.ajax({
            url: '{{ path('pumukit_multimedia_object_save_and_archive', {'id': multimediaObject.id}) }}',
            type: 'POST',
            error: function(request, json) {
                var message = '{{ "Multimedia Object archive ERROR"|trans|e("js") }}';
                no_success(message);
            },
            success: function(response) {
                location.reload();
                var message = '{{ "Multimedia Object archive complete"|trans|e("js") }}';
                success(message);
            }
        });
        return false;
    })
</script>
