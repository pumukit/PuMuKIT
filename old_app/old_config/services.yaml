parameters:
  pumukit.inspection.command: ffprobe -v quiet -print_format json -show_format -show_streams "{{file}}"
  pumukit.picextractor.command: ffmpeg -ss {{ss}} -y -i "{{input}}" -r 1 -vframes 1 -s {{size}} -f image2 "{{output}}"
  pumukit.dynamicpicextractor.command: ffmpeg -i "{{input}}" -ss 00:00:05 -t 3 -quality 80 -r 10 -s 768x432 "{{output}}"
  pumukit.warning_on_unpublished: false
  pumukit.show_dashboard_tab: true
  pumukit.show_mms_list_all_menu: false
  pumukit.inbox_depth: false
  pumukit.customlanguages:
    - es
    - gl
    - en
    - pt
    - fr
    - it
    - de
    - ca
    - eu
    - lse
    - lsi

services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: true

  doctrine:
    alias: doctrine_mongodb

  twig.extension.intl:
    class: Twig_Extensions_Extension_Intl
    tags:
      - { name: "twig.extension" }

  Pumukit\BasePlayerBundle\Services\TrackUrlService:
    arguments:
      $secret: '%pumukitplayer.secure_secret%'
      $secureDuration: '%pumukitplayer.secure_duration%'

  Pumukit\BasePlayerBundle\Services\SeriesPlaylistService:
    class: Pumukit\BasePlayerBundle\Services\SeriesPlaylistService

  Pumukit\BasePlayerBundle\Twig\BasePlayerExtension:
    class: Pumukit\BasePlayerBundle\Twig\BasePlayerExtension
    tags:
      - { name: "twig.extension" }

  Pumukit\BasePlayerBundle\Services\IntroService:
    class: Pumukit\BasePlayerBundle\Services\IntroService
    arguments:
      $globalUrlIntroduction: '%pumukit.intro%'

  Pumukit\BasePlayerBundle\Services\PlayerService:
    class: Pumukit\BasePlayerBundle\Services\PlayerService

  Pumukit\BasePlayerBundle\Services\UserAgentParserService:
    class: Pumukit\BasePlayerBundle\Services\UserAgentParserService

  Pumukit\BaseLivePlayerBundle\Twig\LiveTwigExtension:
    arguments:
      $eventDefaultPic: "%pumukit_new_admin.advance_live_event_create_default_pic%"
    tags:
      - { name: "twig.extension" }

  Pumukit\BaseLivePlayerBundle\Services\LiveService:
    class: Pumukit\BaseLivePlayerBundle\Services\LiveService

  Pumukit\BaseLivePlayerBundle\Services\APIService:
    class: Pumukit\BaseLivePlayerBundle\Services\APIService

  Pumukit\CoreBundle\EventListener\AjaxSessionCloseListener:
    class: Pumukit\CoreBundle\EventListener\AjaxSessionCloseListener
    tags:
      - { name: "kernel.event_listener", event: "kernel.request", priority: "-255" }

  Pumukit\CoreBundle\EventListener\FilterListener:
    class: Pumukit\CoreBundle\EventListener\FilterListener
    tags:
      - { name: "kernel.event_listener", event: "kernel.controller" }

  Pumukit\CoreBundle\Twig\CoreExtension:
    class: Pumukit\CoreBundle\Twig\CoreExtension
    tags:
      - { name: "twig.extension" }

  Pumukit\CoreBundle\EventListener\ConsoleExceptionListener:
    class: Pumukit\CoreBundle\EventListener\ConsoleExceptionListener
    tags:
      - { name: "kernel.event_listener", event: "console.exception" }

  Pumukit\CoreBundle\Services\FilterService:
    class: Pumukit\CoreBundle\Services\FilterService
    arguments:
      $addUserAsPerson: '%pumukitschema.enable_add_user_as_person%'

  Pumukit\CoreBundle\Services\ImportMappingDataService:
    class: Pumukit\CoreBundle\Services\ImportMappingDataService

  Pumukit\CoreBundle\Handler\CustomAuthenticationFailureHandler:
    class: Pumukit\CoreBundle\Handler\CustomAuthenticationFailureHandler

  Pumukit\CoreBundle\Handler\CustomAuthenticationSuccessHandler:
    class: Pumukit\CoreBundle\Handler\CustomAuthenticationSuccessHandler

  Pumukit\CoreBundle\Services\PaginationService:
    class: Pumukit\CoreBundle\Services\PaginationService

  Pumukit\EncoderBundle\Services\CpuService:
    class: Pumukit\EncoderBundle\Services\CpuService
    arguments:
      $cpus: '%pumukitencode.cpulist%'

  Pumukit\EncoderBundle\Services\ProfileService:
    class: Pumukit\EncoderBundle\Services\ProfileService
    arguments:
      $profiles: '%pumukitencode.profilelist%'
      $default_profiles: '%pumukitencode.target_default_profiles%'

  Pumukit\EncoderBundle\Services\JobService:
    class: Pumukit\EncoderBundle\Services\JobService
    arguments:
      $binPath: '%kernel.root_dir%/../bin/'
      $environment: '%kernel.environment%'
      $tmpPath: '%pumukit.tmp%'
      $inboxPath: '%pumukit.inbox%'
      $deleteInboxFiles: '%pumukitencode.delete_inbox_files%'
    tags:
      - { name: "monolog.logger", channel: "encoder" }

  Pumukit\InspectionBundle\Services\InspectionServiceInterface:
    class: Pumukit\InspectionBundle\Services\InspectionServiceInterface

  Pumukit\EncoderBundle\Services\MultimediaObjectPropertyJobService:
    class: Pumukit\EncoderBundle\Services\MultimediaObjectPropertyJobService

  Pumukit\EncoderBundle\Services\PicExtractorService:
    class: Pumukit\EncoderBundle\Services\PicExtractorService
    arguments:
      $width: '%pumukitencode.thumbnail.width%'
      $height: '%pumukitencode.thumbnail.height%'
      $targetPath: '%pumukit.uploads_dir%/pic'
      $targetUrl: '%pumukit.uploads_url%/pic'
      $command: '%pumukit.picextractor.command%'

  Pumukit\EncoderBundle\Services\PicService:
    class: Pumukit\EncoderBundle\Services\PicService

  Pumukit\EncoderBundle\EventListener\RemoveListener:
    class: Pumukit\EncoderBundle\EventListener\RemoveListener
    tags:
      - { name: "kernel.event_listener", event: "track.delete", method: "postTrackRemove" }

  Pumukit\EncoderBundle\Services\DynamicPicExtractorService:
    class: Pumukit\EncoderBundle\Services\DynamicPicExtractorService
    arguments:
      $targetPath: '%pumukit.uploads_dir%/pic'
      $targetUrl: '%pumukit.uploads_url%/pic'
      $command: '%pumukit.dynamicpicextractor.command%'

  Pumukit\InspectionBundle\Services\InspectionFfprobeService:
    class: Pumukit\InspectionBundle\Services\InspectionFfprobeService
    arguments:
      $command: '%pumukit.inspection.command%'

  Pumukit\NewAdminBundle\Form\Type\Base\TextI18nType:
    class: Pumukit\NewAdminBundle\Form\Type\Base\TextI18nType
    arguments:
      $locales: '%pumukit.locales%'
      $translators: '%pumukit_new_admin.metadata_translators%'
    tags:
      - { name: "form.type", alias: "texti18n" }

  Pumukit\NewAdminBundle\Form\Type\Base\TextI18nAdvanceType:
    class: Pumukit\NewAdminBundle\Form\Type\Base\TextI18nAdvanceType
    arguments:
      $locales: '%pumukit.locales%'
      $translators: '%pumukit_new_admin.metadata_translators%'
    tags:
      - { name: "form.type", alias: "texti18nadvance" }

  Pumukit\NewAdminBundle\Form\Type\Base\TextareaI18nType:
    class: Pumukit\NewAdminBundle\Form\Type\Base\TextareaI18nType
    arguments:
      $locales: '%pumukit.locales%'
      $translators: '%pumukit_new_admin.metadata_translators%'
    tags:
      - { name: "form.type", alias: "textareai18n" }

  Pumukit\NewAdminBundle\Form\Type\Base\CustomLanguageType:
    class: Pumukit\NewAdminBundle\Form\Type\Base\CustomLanguageType
    arguments:
      $customLanguages: '%pumukit.customlanguages%'
    tags:
      - { name: "form.type", alias: "customlanguage" }

  Pumukit\NewAdminBundle\Form\Type\Base\LicenseType:
    class: Pumukit\NewAdminBundle\Form\Type\Base\LicenseType
    arguments:
      $licenses: '%pumukit_new_admin.licenses%'
    tags:
      - { name: "form.type", alias: "license" }

  Pumukit\NewAdminBundle\EventListener\ExceptionListener:
    class: Pumukit\NewAdminBundle\EventListener\ExceptionListener
    tags:
      - { name: "kernel.event_listener", event: "kernel.exception", method: "onKernelException", priority: "255" }

  Pumukit\NewAdminBundle\Twig\PumukitAdminExtension:
    class: Pumukit\NewAdminBundle\Twig\PumukitAdminExtension
    tags:
      - { name: "twig.extension" }

  Pumukit\NewAdminBundle\Services\SeriesSearchService:
    class: Pumukit\NewAdminBundle\Services\SeriesSearchService

  Pumukit\NewAdminBundle\Services\MultimediaObjectSearchService:
    class: Pumukit\NewAdminBundle\Services\MultimediaObjectSearchService

  Pumukit\NewAdminBundle\Services\MultimediaObjectSyncService:
    class: Pumukit\NewAdminBundle\Services\MultimediaObjectSyncService

  Pumukit\NewAdminBundle\Services\UserStatsService:
    class: Pumukit\NewAdminBundle\Services\UserStatsService

  Pumukit\NewAdminBundle\Services\TagCatalogueService:
    class: Pumukit\NewAdminBundle\Services\TagCatalogueService
    arguments:
      $configuredTag: '%pumukit_new_admin.base_catalogue_tag%'
      $locales: '%pumukit.locales%'

  Pumukit\NewAdminBundle\EventListener\FilterListener:
    class: Pumukit\NewAdminBundle\EventListener\FilterListener
    arguments:
      $addUserAsPerson: '%pumukitschema.enable_add_user_as_person%'
    tags:
      - { name: "kernel.event_listener", event: "kernel.controller" }

  Pumukit\NewAdminBundle\Menu\ItemsList:
    class: Pumukit\NewAdminBundle\Menu\ItemsList

  Pumukit\NewAdminBundle\Twig\MultimediaObjectButtonsExtension:
    class: Pumukit\NewAdminBundle\Twig\MultimediaObjectButtonsExtension
    tags:
      - { name: "twig.extension" }

  Pumukit\NewAdminBundle\Twig\CatalogueExtension:
    class: Pumukit\NewAdminBundle\Twig\CatalogueExtension
    tags:
      - { name: "twig.extension" }

  Pumukit\NewAdminBundle\Controller\TranslateController:
    class: Pumukit\NewAdminBundle\Controller\TranslateController

  Pumukit\NotificationBundle\Services\SenderService:
    class: Pumukit\NotificationBundle\Services\SenderService
    arguments:
      $mailer: '@mailer'
      $enable: '%pumukit_notification.enable%'
      $senderEmail: '%pumukit_notification.sender_email%'
      $senderName: '%pumukit_notification.sender_name%'
      $enableMultiLang: '%pumukit_notification.enable_multi_lang%'
      $locales: '%pumukit.locales%'
      $subjectSuccessTrans: '%pumukit_notification.subject_success_trans%'
      $subjectFailsTrans: '%pumukit_notification.subject_fails_trans%'
      $adminEmail: '%pumukit_notification.admin_email%'
      $notificateErrorsToAdmin: '%pumukit_notification.notificate_errors_to_admin%'
      $platformName: '%pumukit_notification.platform_name%'
      $environment: '%kernel.environment%'

  Pumukit\NotificationBundle\Services\JobNotificationService:
    class: Pumukit\NotificationBundle\Services\JobNotificationService
    arguments:
      $enable: '%pumukit_notification.enable%'
      $environment: '%kernel.environment%'
      $template: '%pumukit_notification.template%'
      $subjectSuccess: '%pumukit_notification.subject_success%'
      $subjectFails: '%pumukit_notification.subject_fails%'
      $subjectSuccessTrans: '%pumukit_notification.subject_success_trans%'
      $subjectFailsTrans: '%pumukit_notification.subject_fails_trans%'
    tags:
      - { name: "kernel.event_listener", event: "job.success", method: "onJobSuccess" }
      - { name: "kernel.event_listener", event: "job.error", method: "onJobError" }

  Pumukit\SchemaBundle\Services\PasswordUpdater:
    class: Pumukit\SchemaBundle\Services\PasswordUpdater
    public: false
    arguments:
      $genUserSalt: '%pumukitschema.gen_user_salt%'

  Pumukit\SchemaBundle\Services\LegacyEventPicService:
    class: Pumukit\SchemaBundle\Services\LegacyEventPicService
    arguments:
      $targetPath: '%pumukit.uploads_dir%/pic'
      $targetUrl: '%pumukit.uploads_url%/pic'
      $forceDeleteOnDisk: '%pumukit.delete_on_disk%'

  Pumukit\SchemaBundle\EventListener\LocaleListener:
    class: Pumukit\SchemaBundle\EventListener\LocaleListener
    arguments:
      $defaultLocale: '%kernel.default_locale%'
      $pumukitLocales: '%pumukit.locales%'
    tags:
      - { name: "doctrine_mongodb.odm.event_listener", event: "postLoad" }
      - { name: "kernel.event_subscriber" }

  Pumukit\SchemaBundle\EventListener\RemoveListener:
    class: Pumukit\SchemaBundle\EventListener\RemoveListener
    tags:
      - { name: "doctrine_mongodb.odm.event_listener", event: "preRemove" }

  Pumukit\SchemaBundle\EventListener\PermissionProfileListener:
    class: Pumukit\SchemaBundle\EventListener\PermissionProfileListener
    tags:
      - { name: "kernel.event_listener", event: "permissionprofile.update", method: "postUpdate" }

  Pumukit\SchemaBundle\Services\RoleService:
    class: Pumukit\SchemaBundle\Services\RoleService
    arguments:
      $locales: '%pumukit.locales%'

  Pumukit\SchemaBundle\EventListener\SeriesListener:
    class: Pumukit\SchemaBundle\EventListener\SeriesListener
    tags:
      - { name: "kernel.event_listener", event: "series.update", method: "postUpdate" }

  Pumukit\SchemaBundle\EventListener\MultimediaObjectListener:
    class: Pumukit\SchemaBundle\EventListener\MultimediaObjectListener
    tags:
      - { name: "kernel.event_listener", event: "multimediaobject.update", method: "postUpdate" }
      - { name: "kernel.event_listener", event: "track.create", method: "postUpdate" }
      - { name: "kernel.event_listener", event: "track.update", method: "postUpdate" }
      - { name: "kernel.event_listener", event: "track.delete", method: "postUpdate" }
      - { name: "kernel.event_listener", event: "personwithrole.create", method: "postUpdate" }
      - { name: "kernel.event_listener", event: "personwithrole.update", method: "postUpdate" }
      - { name: "kernel.event_listener", event: "personwithrole.update", method: "postUpdate" }
      - { name: "kernel.event_listener", event: "personwithrole.delete", method: "postUpdate" }

  Pumukit\SchemaBundle\Services\FactoryService:
    class: Pumukit\SchemaBundle\Services\FactoryService
    arguments:
      $addUserAsPerson: '%pumukitschema.enable_add_user_as_person%'
      $locales: '%pumukit.locales%'
      $defaultCopyright: '@=parameter("pumukitschema.default_copyright") ? parameter("pumukitschema.default_copyright") : parameter("pumukit.info")["title"]'
      $defaultLicense: '%pumukitschema.default_license%'

  Pumukit\SchemaBundle\Services\SeriesPicService:
    class: Pumukit\SchemaBundle\Services\SeriesPicService
    arguments:
      $locales: '%pumukit.locales%'
      $targetPath: '%pumukit.uploads_dir%/pic/'
      $targetUrl: '%pumukit.uploads_url%/pic'
      $forceDeleteOnDisk: '%pumukit.delete_on_disk%'

  Pumukit\SchemaBundle\Services\MultimediaObjectPicService:
    class: Pumukit\SchemaBundle\Services\MultimediaObjectPicService
    arguments:
      $targetPath: '%pumukit.uploads_dir%/pic/'
      $targetUrl: '%pumukit.uploads_url%/pic'
      $forceDeleteOnDisk: '%pumukit.delete_on_disk%'

  Pumukit\SchemaBundle\Services\MultimediaObjectDurationService:
    class: Pumukit\SchemaBundle\Services\MultimediaObjectDurationService

  Pumukit\SchemaBundle\Services\MultimediaObjectService:
    class: Pumukit\SchemaBundle\Services\MultimediaObjectService

  Pumukit\SchemaBundle\Services\MultimediaObjectVoter:
    class: Pumukit\SchemaBundle\Services\MultimediaObjectVoter
    tags:
      - { name: "security.voter" }

  Pumukit\SchemaBundle\Services\SortedMultimediaObjectsService:
    class: Pumukit\SchemaBundle\Services\SortedMultimediaObjectsService

  Pumukit\SchemaBundle\EventListener\MultimediaObjectViews:
    class: Pumukit\SchemaBundle\EventListener\MultimediaObjectViews
    tags:
      - { name: "kernel.event_listener", event: "multimediaobject.view", method: "onMultimediaObjectViewed" }

  Pumukit\SchemaBundle\Services\TagService:
    class: Pumukit\SchemaBundle\Services\TagService

  Pumukit\SchemaBundle\Services\SeriesService:
    class: Pumukit\SchemaBundle\Services\SeriesService

  Pumukit\SchemaBundle\Services\AnnounceService:
    class: Pumukit\SchemaBundle\Services\AnnounceService

  Pumukit\SchemaBundle\Services\PermissionProfileEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\PermissionProfileEventDispatcherService

  Pumukit\SchemaBundle\Services\PermissionProfileService:
    class: Pumukit\SchemaBundle\Services\PermissionProfileService

  Pumukit\SchemaBundle\Services\PermissionService:
    class: Pumukit\SchemaBundle\Services\PermissionService
    arguments:
      $externalPermissions: '%pumukitschema.external_permissions%'

  Pumukit\SchemaBundle\Services\MultimediaObjectEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\MultimediaObjectEventDispatcherService

  Pumukit\SchemaBundle\Services\UserEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\UserEventDispatcherService

  Pumukit\SchemaBundle\Services\SeriesEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\SeriesEventDispatcherService

  Pumukit\SchemaBundle\Services\GroupEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\GroupEventDispatcherService

  Pumukit\SchemaBundle\Services\LinkEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\LinkEventDispatcherService

  Pumukit\SchemaBundle\Services\MaterialEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\MaterialEventDispatcherService

  Pumukit\SchemaBundle\Services\PersonWithRoleEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\PersonWithRoleEventDispatcherService

  Pumukit\SchemaBundle\Services\PicEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\PicEventDispatcherService

  Pumukit\SchemaBundle\Services\TrackEventDispatcherService:
    class: Pumukit\SchemaBundle\Services\TrackEventDispatcherService

  Pumukit\SchemaBundle\Services\LinkService:
    class: Pumukit\SchemaBundle\Services\LinkService

  Pumukit\SchemaBundle\Services\MaterialService:
    class: Pumukit\SchemaBundle\Services\MaterialService
    arguments:
      $targetPath: '%pumukit.uploads_dir%/material'
      $targetUrl: '%pumukit.uploads_url%/material'
      $forceDeleteOnDisk: '%pumukit.delete_on_disk%'

  Pumukit\SchemaBundle\Services\CaptionService:
    class: Pumukit\SchemaBundle\Services\CaptionService

  Pumukit\SchemaBundle\Services\TrackService:
    class: Pumukit\SchemaBundle\Services\TrackService
    arguments:
      $tmpPath: '%pumukit.tmp%'
      $forceDeleteOnDisk: '%pumukit.delete_on_disk%'

  Pumukit\SchemaBundle\Services\PersonService:
    class: Pumukit\SchemaBundle\Services\PersonService
    arguments:
      $addUserAsPerson: '%pumukitschema.enable_add_user_as_person%'
      $personalScopeRoleCode: '%pumukitschema.personal_scope_role_code%'

  Pumukit\SchemaBundle\Services\UserService:
    class: Pumukit\SchemaBundle\Services\UserService
    arguments:
      $personalScopeDeleteOwners: '%pumukitschema.personal_scope_delete_owners%'

  Pumukit\SchemaBundle\Services\GroupService:
    class: Pumukit\SchemaBundle\Services\GroupService

  Pumukit\SchemaBundle\Services\PicService:
    class: Pumukit\SchemaBundle\Services\PicService
    arguments:
      $webDir: '%kernel.root_dir%/web'
      $defaultSeriesPic: '%pumukitschema.default_series_pic%'
      $defaultPlaylistPic: '%pumukitschema.default_playlist_pic%'
      $defaultVideoPic: '%pumukitschema.default_video_pic%'
      $defaultAudioHDPic: '%pumukitschema.default_audio_hd_pic%'
      $defaultAudioSDPic: '%pumukitschema.default_audio_sd_pic%'

  Pumukit\SchemaBundle\Services\StatsService:
    class: Pumukit\SchemaBundle\Services\StatsService

  Pumukit\SchemaBundle\Services\TextIndexService:
    class: Pumukit\SchemaBundle\Services\TextIndexService

  Pumukit\SchemaBundle\Services\EmbeddedBroadcastService:
    class: Pumukit\SchemaBundle\Services\EmbeddedBroadcastService

  Pumukit\SchemaBundle\Services\SpecialTranslationService:
    class: Pumukit\SchemaBundle\Services\SpecialTranslationService

  Pumukit\SchemaBundle\Services\EmbeddedEventSessionService:
    class: Pumukit\SchemaBundle\Services\EmbeddedEventSessionService
    arguments:
      $defaultPoster: '%pumukitschema.event_default_poster%'
      $defaultThumbnail: '%pumukit_new_admin.advance_live_event_create_default_pic%'

  Pumukit\StatsBundle\EventListener\Log:
    class: Pumukit\StatsBundle\EventListener\Log
    tags:
      - { name: "kernel.event_listener", event: "multimediaobject.view", method: "onMultimediaObjectViewed" }

  Pumukit\StatsBundle\Services\StatsService:
    class: Pumukit\StatsBundle\Services\StatsService
    arguments:
      $useAggregation: '%pumukit_stats.use_aggregation%'

  Pumukit\WebTVBundle\Services\BreadcrumbsService:
    class: Pumukit\WebTVBundle\Services\BreadcrumbsService
    arguments:
      $allTitle: '%pumukit_web_tv.breadcrumbs_all_title%'
      $allRoute: '%pumukit_web_tv.breadcrumbs_all_route%'
      $homeTitle: '%breadcrumbs_home_title%'
      $parentWeb: '%pumukit_web_tv.breadcrumbs_parentweb%'

  Pumukit\WebTVBundle\Services\ChannelService:
    class: Pumukit\WebTVBundle\Services\ChannelService

  Pumukit\WebTVBundle\Services\CategoriesService:
    class: Pumukit\WebTVBundle\Services\CategoriesService
    arguments:
      $parentCod: '%categories_tag_cod%'
      $listGeneralParam: '%categories.list_general_tags%'

  Pumukit\WebTVBundle\Services\ChapterMarkService:
    class: Pumukit\WebTVBundle\Services\ChapterMarkService

  Pumukit\WebTVBundle\Services\LinkService:
    class: Pumukit\WebTVBundle\Services\LinkService
    arguments:
      $linkTagToSearch: '%pumukit_web_tv.linktagtosearch%'

  Pumukit\WebTVBundle\Services\ListService:
    class: Pumukit\WebTVBundle\Services\ListService
    arguments:
      $advanceLiveEvents: '%pumukit_new_admin.advance_live_event%'
      $wallTag: '%wall_block.wall_tag%'

  Pumukit\WebTVBundle\Services\MenuService:
    class: Pumukit\WebTVBundle\Services\MenuService
    arguments:
      $advanceEvents: '%pumukit_new_admin.advance_live_event%'

  Pumukit\WebTVBundle\Services\SearchService:
    class: Pumukit\WebTVBundle\Services\SearchService
    arguments:
      $parentTagCod: '%search.parent_tag.cod%'
      $parentTagCodOptional: '%search.parent_tag_2.cod%'

  Pumukit\WebTVBundle\Twig\MongoDateExtension:
    class: Pumukit\WebTVBundle\Twig\MongoDateExtension

  Pumukit\WebTVBundle\Twig\BootstrapExtension:
    class: Pumukit\WebTVBundle\Twig\BootstrapExtension

  Pumukit\WebTVBundle\Twig\PumukitExtension:
    class: Pumukit\WebTVBundle\Twig\PumukitExtension
    arguments:
      $defaultPic: '%pumukit_web_tv.default_pic%'

  Pumukit\WizardBundle\Services\LicenseService:
    class: Pumukit\WizardBundle\Services\LicenseService
    arguments:
      $showLicense: '%pumukit_wizard.show_license%'
      $licenseDir: '%pumukit_wizard.license_dir%'
      $locales: '%pumukit.locales%'

  Pumukit\WizardBundle\Services\WizardService:
    class: Pumukit\WizardBundle\Services\WizardService
    arguments:
      $basePath: '%kernel.root_dir%/../'
      $locales: '%pumukit.locales%'
      $inboxDepth: '%pumukit.inbox_depth%'

  Pumukit\WizardBundle\Services\FormEventDispatcherService:
    class: Pumukit\WizardBundle\Services\FormEventDispatcherService

  Pumukit\WorkflowBundle\EventListener\JobGeneratorListener:
    class: Pumukit\WorkflowBundle\EventListener\JobGeneratorListener
    tags:
      - { name: "kernel.event_listener", event: "job.success", method: "onJobSuccess" }
      - { name: "kernel.event_listener", event: "multimediaobject.update", method: "onMultimediaobjectUpdate" }

  Pumukit\WorkflowBundle\EventListener\PicExtractorListener:
    class: Pumukit\WorkflowBundle\EventListener\PicExtractorListener
    arguments:
      $autoExtractPic: '%pumukit_workflow.auto_extract_pic%'
      $autoExtractPicPercentage: '%pumukit_workflow.auto_extract_pic_percentage%'
    tags:
      - { name: "kernel.event_listener", event: "job.success", method: "onJobSuccess" }

  Pumukit\WorkflowBundle\EventListener\DynamicPicExtractorListener:
    class: Pumukit\WorkflowBundle\EventListener\DynamicPicExtractorListener
    arguments:
      $enableDynamicPicExtract: '%pumukit_workflow.dynamic_pic_extract%'
      $trackTagAllowed: '%pumukit_workflow.dynamic_pic_extract_track_tag_allowed%'
    tags:
      - { name: "kernel.event_listener", event: "job.success", method: "onJobSuccess" }

  Pumukit\SchemaBundle\Security\RoleHierarchy:
    class: Pumukit\SchemaBundle\Security\RoleHierarchy
    public: false
    arguments:
      $hierarchy: '%security.role_hierarchy.roles%'
