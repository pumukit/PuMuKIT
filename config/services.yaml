parameters:
  pumukit.inspection.command:          ffprobe -v quiet -print_format json -show_format -show_streams "{{file}}"
  pumukit.picextractor.command:        ffmpeg -ss {{ss}} -y -i "{{input}}" -r 1 -vframes 1 -s {{size}} -f image2 "{{output}}"
  pumukit.dynamicpicextractor.command: ffmpeg -i "{{input}}" -ss 00:00:05 -t 3 -quality 80 -r 10 -s 768x432 "{{output}}"
  pumukit.warning_on_unpublished:      false
  pumukit.show_dashboard_tab:          true
  pumukit.show_mms_list_all_menu:      false
  pumukit.inbox_depth:                 false
  pumukit.customlanguages:
    - es
    - gl
    - en
    - pt
    - fr
    - it
    - de
    - ca
    - eu
    - lse
    - lsi
  env(MONGODB_URL):                    ''
  env(MONGODB_DB):                     ''
  locale:                              "%env(PUMUKIT_LOCALE)%"
  secret:                              "%env(PUMUKIT_SECRET)%"
  debug_toolbar:                       true
  debug_redirects:                     false
  use_assetic_controller:              true
  router.request_context.scheme:       "%env(PUMUKIT_SCHEME)%"
  router.request_context.host:         "%env(PUMUKIT_HOST)%"

  pumukit.info:
    title:               "%env(PUMUKIT_TITLE)%"
    description:         "%env(PUMUKIT_DESCRIPTION)%"
    keywords:            "%env(PUMUKIT_KEYWORDS)%"
    email:               "%env(PUMUKIT_EMAIL)%"
    logo:                "%env(PUMUKIT_LOGO)%"
    primary_color:       "%env(PUMUKIT_PRIMARY_COLOR)%"
    font_color:          "%env(PUMUKIT_FONT_COLOR)%"

  pumukit.locales:                     "%env(json:PUMUKIT_LOCALES)%"
  #  pumukit.public_dir:                  "%env(PUMUKIT_PUBLIC_DIR)%"
  pumukit.public_dir:                  '%kernel.project_dir%/public/'
  #  pumukit.storage_dir:                 "%env(PUMUKIT_STORAGE_DIR)%"
  pumukit.storage_dir:                 '%kernel.project_dir%/public/storage'
  #  pumukit.uploads_dir:                 "%env(PUMUKIT_UPLOADS_DIR)%"
  pumukit.uploads_dir:                 '%kernel.project_dir%/public/uploads'
  #  pumukit.uploads_url:                 "%env(PUMUKIT_UPLOADS_URL)%"
  pumukit.uploads_url:                 "/uploads"
  #  pumukit.uploads_material_dir:        "%env(PUMUKIT_UPLOADS_MATERIAL_DIR)%"
  pumukit.uploads_material_dir:        '%kernel.project_dir%/public/uploads/material'
  #  pumukit.uploads_pic_dir:             "%env(PUMUKIT_UPLOADS_PIC_DIR)%"
  pumukit.uploads_pic_dir:             '%kernel.project_dir%/public/uploads/pic'
  #  pumukit.inbox:                       "%env(PUMUKIT_INBOX)%"
  pumukit.inbox:                       '%kernel.project_dir%/public/storage/inbox'
  #  pumukit.tmp:                         "%env(PUMUKIT_TMP)%"
  pumukit.tmp:                         '%kernel.project_dir%/public/storage/tmp'
  #  pumukit.downloads:                   "%env(PUMUKIT_DOWNLOADS)%"
  pumukit.downloads:                   '%kernel.project_dir%/public/storage/downloads'
  #  pumukit.masters:                     "%env(PUMUKIT_MASTERS)%"
  pumukit.masters:                     '%kernel.project_dir%/public/storage/masters'
  #  pumukit.delete_on_disk:              "%env(bool:PUMUKIT_DELETE_ON_DISK)%"
  pumukit.delete_on_disk:              false

services:
  _defaults:
    autowire:      true
    autoconfigure: true
    public:        true

  doctrine:
    alias: doctrine_mongodb

  twig.extension.intl:
    class: Twig_Extensions_Extension_Intl
    tags:
      - { name: "twig.extension" }

  Gedmo\Tree\TreeListener:
    tags:
      - { name: doctrine.event_subscriber, connection: default }
      - { name: doctrine_mongodb.odm.event_subscriber }
    calls:
      - method: setAnnotationReader
        arguments:
          - "@annotation_reader"

  Gedmo\Sortable\SortableListener:
    tags:
      - { name: doctrine.event_subscriber, connection: default }
      - { name: doctrine_mongodb.odm.event_subscriber }
    calls:
      - method: setAnnotationReader
        arguments:
          - '@annotation_reader'
